{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"type": "object",
	"required": ["type"],
	"$ref": "#/definitions/query",
	"definitions": {
		"subquery": {
			"type": "object",
			"allOf": [
				{ "not": { "required": ["id"] } },
				{ "$ref": "#/definitions/query" }
			]
		},
		"query": {
			"type": "object",
			"required": ["select"],
			"additionalProperties": false,
			"properties": {
				"type": { "type": "string" },
				"select": { "anyOf": [{ "$ref": "#/definitions/select" }, {}] },
				"id": {},
				"ids": {},
				"where": {},
				"order": {},
				"limit": {},
				"offset": {},
				"meta": {}
			}
		},
		"selectObject": {
			"type": "object",
			"properties": {
				"*": {}
			},
			"additionalProperties": {
				"anyOf": [{ "type": "string" }, { "$ref": "#/definitions/subquery" }]
			}
		},
		"select": {
			"oneOf": [
				{ "type": "string" },
				{
					"type": "array",
					"items": {
						"oneOf": [
							{ "type": "string" },
							{ "$ref": "#/definitions/selectObject" }
						]
					}
				},
				{ "$ref": "#/definitions/selectObject" }
			]
		}
	}
}
